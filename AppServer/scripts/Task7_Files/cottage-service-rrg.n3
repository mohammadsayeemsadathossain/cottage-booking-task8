@prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix sswap: <http://sswapmeet.sswap.info/sswap/> .
@prefix cf:    <http://localhost:8080/cottageBooking/onto/CottageOntology.owl#> .
@prefix data:  <http://localhost:8080/cottageBooking/data/cottage#> .
@prefix res:   <http://localhost:8080/CottageService/> .

# RRG — response: same graph shape as your RDG/RIG
# Echo the invocation values in the Subject, and attach the matched cottages in the same RDF document.
res:cottageBookingService
  rdf:type sswap:Resource ;
   sswap:providedBy res:provider ;
  sswap:name "Cottage Booking Search Service (domain-only)" ;
  sswap:oneLineDescription "Find cottages by city/capacity/bedrooms/distances and propose bookings for requested dates." ;
  sswap:operatesOn [
    rdf:type sswap:Graph ;
    sswap:hasMapping [
      rdf:type sswap:Subject , cf:Cottage ;

      # ------- FILTERS FROM THE INVOCATION -------
	  cf:bookerName				"Alice";
      cf:requiredPlaces          "4" ;
      cf:requiredBedrooms        "2" ;
      cf:maxLakeDistanceMeters   "200" ;
      cf:maxCityDistanceMeters   "6000" ;
      cf:startDay                "2025-11-10" ;
      cf:requiredDays            "5" ;
      cf:maxStartShiftDays       "2" ;

      sswap:mapsTo [
        rdf:type sswap:Object , cf:Cottage
        # The actual result cottages are listed below as separate resources.
	cf:cottageID         "C001" ;
	cf:bookerName		 "Alice";
  	cf:address           "123 Lake Road, Jyväskylä, Finland" ;
  	cf:imageURL          "cottage01.jpg" ;
  	cf:capacity          "6" ;
  	cf:numberOfBedrooms  "3" ;
  	cf:distanceToLake    "50" ;
  	cf:hasLocation       data:Location01 ;
  	cf:nearestCity       data:City01 .
      ]

      sswap:mapsTo [
        rdf:type sswap:Object , cf:Cottage
        # The actual result cottages are listed below as separate resources.
  	cf:bookerName		"Alice";
	cf:cottageID         "C004" ;
  	cf:address           "321 Riverside Lane, Jyväskylä, Finland" ;
  	cf:imageURL          "cottage04.jpg" ;
  	cf:capacity          "5" ;
  	cf:numberOfBedrooms  "2" ;
  	cf:distanceToLake    "20" ;
  	cf:hasLocation       data:Location04 ;
  	cf:nearestCity       data:City04 .
      ]

    ]
  ] .
